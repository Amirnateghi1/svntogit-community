# Maintainer: Daniel M. Capella <polyzen@archlinux.org>

pkgname=termtosvg
pkgver=1.0.0
pkgrel=1
pkgdesc='Record terminal sessions as SVG animations'
arch=('any')
url=https://nbedos.github.io/termtosvg/
license=('BSD')
depends=('python-lxml' 'python-pyte')
makedepends=('python-setuptools')
source=("https://files.pythonhosted.org/packages/source/${pkgname::1}/$pkgname/$pkgname-$pkgver.tar.gz")
sha256sums=('cfe52876ee57de3ed3a0a5c5ccc0fc48de3ae7fe5867602f6e57ab9cefae14b4')

build() {
  cd $pkgname-$pkgver
  python setup.py build
}

check() {
  cd $pkgname-$pkgver
  python -m unittest termtosvg.tests.suite
}

package() {
  cd $pkgname-$pkgver
  python setup.py install --root="$pkgdir" --optimize=1 --skip-build
  install -Dm644 man/termtosvg.man.1 "$pkgdir"/usr/share/man/man1/termtosvg.1
  install -Dm644 man/termtosvg-templates.man.5 "$pkgdir"/usr/share/man/man5/termtosvg-templates.5
  install -Dm644 -t "$pkgdir"/usr/share/licenses/$pkgname LICENSE
}

# vim:set ts=2 sw=2 et:
