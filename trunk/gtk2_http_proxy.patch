diff -uNr -x .cvsignore -x Entries -x Repository -x Root src/gtk2/gui/guiHtml.ml src/gtk2/gui/guiHtml.ml
--- src/gtk2/gui/guiHtml.ml	2006-05-20 01:43:54.000000000 +0200
+++ src/gtk2/gui/guiHtml.ml	2010-08-16 20:58:42.000000000 +0200
@@ -50,9 +50,13 @@
 
 let make_request url =
   let module H = Http_client in
+  let auth = match !!O.gtk_connection_http_proxy_login with
+  | "" -> None
+  | _ -> Some (!!O.gtk_connection_http_proxy_login, !!O.gtk_connection_http_proxy_password)
+  in
   let proxy =
     if !!O.gtk_connection_http_use_proxy
-      then Some (!!O.gtk_connection_http_proxy_server, !!O.gtk_connection_http_proxy_port)
+      then Some (!!O.gtk_connection_http_proxy_server, !!O.gtk_connection_http_proxy_port, auth)
       else None
   in
   let r = {
diff -uNr -x .cvsignore -x Entries -x Repository -x Root src/gtk2/gui/guiOptions.ml src/gtk2/gui/guiOptions.ml
--- src/gtk2/gui/guiOptions.ml	2007-07-01 15:00:11.000000000 +0200
+++ src/gtk2/gui/guiOptions.ml	2010-08-16 21:02:25.000000000 +0200
@@ -166,6 +166,16 @@
     "Direct TCP connections to HTTP proxy (the proxy should support CONNECT)"
     bool_option false
 
+let gtk_connection_http_proxy_login = define_option current_section
+    ["gtk_connection_http_proxy_login"]
+    "HTTP proxy login (leave empty if proxy doesn't require authentication)"
+    string_option ""
+
+let gtk_connection_http_proxy_password = define_option current_section
+    ["gtk_connection_http_proxy_password"]
+    "HTTP proxy password"
+    string_option ""
+
 (* {Client} *)
 
 let gtk_client_login = define_option current_section
