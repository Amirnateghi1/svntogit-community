# $Id$
# Maintainer: Alexander RÃ¸dseth <rodseth@gmail.com>
# Contributor: kappa <kappacurve@gmail.com>

pkgname=erlang-sdl
pkgver=1.2
pkgrel=1
arch=('x86_64' 'i686')
pkgdesc='SDL and OpenGL bindings for Erlang (esdl)'
url='http://esdl.sourceforge.net/'
license=('custom')
depends=('erlang' 'sdl' 'glu')
replaces=('esdl')
source=("$pkgname-$pkgver.tar.gz::https://nodeload.github.com/dgud/esdl/tar.gz/master")
sha256sums=('a61d92a83052dd049794e8a21d80121d4c3c40799b45abc2073c5269e4ae282a')
_dirname=esdl-master

build() {
  cd "$srcdir/$_dirname"

  find -type f -print0 | xargs -0 chmod 644
  make
}

package() {
  cd "$srcdir/$_dirname"

  make INSTALLDIR="$pkgdir/usr/lib/erlang/lib/$pkgname-$pkgver" install

  ## An attempt to make wings3d compile with esdl 1.2
  #ln -s /usr/lib/erlang/lib/wx-0.99/include/glu.hrl \
  #  "$pkgdir/usr/lib/erlang/lib/$pkgname-$pkgver/include/glu.hrl"
  #ln -s /usr/lib/erlang/lib/wx-0.99/include/gl.hrl \
  #  "$pkgdir/usr/lib/erlang/lib/$pkgname-$pkgver/include/gl.hrl"

  install -Dm644 license.terms "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}

# vim:set ts=2 sw=2 et:
